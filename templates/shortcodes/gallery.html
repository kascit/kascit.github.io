<div class="gallery-container my-8">
  <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-{{ cols | default(value=3) }} gap-4 justify-items-center">
    {% for asset in page.assets -%}
    {%- if asset is matching("(?i)[.](jpg|jpeg|png|gif|webp)$") -%}
      {% set image = resize_image(path=asset, width=480, height=360, op="fill") %}
      {% set filename = asset | split(pat="/") | last %}
      {% set name = filename | split(pat=".") | slice(end=-1) | join(sep=".") %}
      <div class="gallery-item w-full text-center">
        <a href="{{ get_url(path=asset) }}" target="_blank" class="block overflow-hidden rounded-lg shadow-md hover:shadow-xl transition-all duration-300">
          <img 
            src="{{ image.url }}" 
            alt="{{ name }}" 
            class="w-full h-48 object-cover hover:scale-105 transition-transform duration-300" 
          />
        </a>
        {% if show_name | default(value=true) %}
        <div class="mt-2 text-sm text-base-content/70 truncate px-2">{{ name }}</div>
        {% endif %}
      </div>
    {%- endif %}
    {%- endfor %}
  </div>
</div>
